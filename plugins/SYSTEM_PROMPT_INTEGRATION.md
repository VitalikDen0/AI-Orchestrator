# üîó –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –ø—Ä–æ–º–ø—Ç–∞ –º–µ–∂–¥—É AI Orchestrator –∏ Google Colab

## üìñ –û–±–∑–æ—Ä

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–¥–∞–µ—Ç —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç –∏–∑ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ AI Orchestrator –≤ —É–¥–∞–ª–µ–Ω–Ω—ã–µ Colab –Ω–æ—É—Ç–±—É–∫–∏, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ò–ò –º–æ–¥–µ–ª–∏ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –º–µ—Å—Ç–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.

## üîÑ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### 1. –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –ø—Ä–æ–º–ø—Ç–∞
```python
# –í google_colab_plugin.py
def handle_create_session(self, params):
    # –ò–∑–≤–ª–µ–∫–∞–µ–º —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç –∏–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä–∞
    system_prompt = params.get('orchestrator', {}).get('system_prompt', '')
    
    # –ü–µ—Ä–µ–¥–∞–µ–º –ø—Ä–æ–º–ø—Ç –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –Ω–æ—É—Ç–±—É–∫–∞
    notebook_file = self._create_colab_notebook(
        template_name=template_name,
        system_prompt=system_prompt
    )
```

### 2. –í–Ω–µ–¥—Ä–µ–Ω–∏–µ –≤ —à–∞–±–ª–æ–Ω
```python
# –í –º–µ—Ç–æ–¥–µ _create_colab_notebook
def _create_colab_notebook(self, template_name, system_prompt=""):
    # –î–æ–±–∞–≤–ª—è–µ–º —è—á–µ–π–∫—É —Å —Å–∏—Å—Ç–µ–º–Ω—ã–º –ø—Ä–æ–º–ø—Ç–æ–º
    system_prompt_cell = nbformat.v4.new_code_cell(
        source=f"""# üß† –°–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç –∏–∑ AI Orchestrator
SYSTEM_PROMPT = '''{system_prompt}'''

print('üìã –°–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç –∑–∞–≥—Ä—É–∂–µ–Ω:')
if not SYSTEM_PROMPT.strip():
    print('‚ö†Ô∏è –°–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç –ø—É—Å—Ç')
else:
    print(f'–°–æ–¥–µ—Ä–∂–∏–º–æ–µ: {{SYSTEM_PROMPT}}')"""
    )
```

### 3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ Colab
```python
# –í —à–∞–±–ª–æ–Ω–µ –Ω–æ—É—Ç–±—É–∫–∞
def generate_response(prompt, max_tokens=2048, temperature=0.7, use_system_prompt=True):
    if use_system_prompt and SYSTEM_PROMPT:
        full_prompt = f"{SYSTEM_PROMPT}\\n\\n–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: {prompt}\\n\\n–ê—Å—Å–∏—Å—Ç–µ–Ω—Ç:"
    else:
        full_prompt = f"Human: {prompt}\\n\\nAssistant:"
    
    # ... –æ—Å—Ç–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
```

## üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ü–µ—Ä–µ–¥–∞—á–∞ —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –ø—Ä–æ–º–ø—Ç–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Å–µ—Å—Å–∏–∏
```python
# –í AI Orchestrator
plugin_action = {
    'action': 'create_session',
    'params': {
        'template': 'qwen3_4b',
        'orchestrator': {
            'system_prompt': self.system_prompt  # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è
        }
    }
}
```

### API endpoint –≤ Colab
```python
@app.route('/generate', methods=['POST'])
def generate_text():
    data = request.get_json()
    
    use_system_prompt = data.get('use_system_prompt', True)  # –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É–µ–º
    
    result = generate_response(
        prompt=data['prompt'],
        use_system_prompt=use_system_prompt
    )
    
    return jsonify(result)
```

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–æ–∑–¥–∞–Ω–∏—è —Å–µ—Å—Å–∏–∏
```json
{
    "action": "create_session",
    "params": {
        "template": "qwen3_4b",
        "orchestrator": {
            "system_prompt": "–¢—ã —É–º–Ω—ã–π –ò–ò –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç...",
            "model_name": "qwen",
            "temperature": 0.7
        }
    }
}
```

### –û—Ç–≤–µ—Ç —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —Å–∏—Å—Ç–µ–º–Ω–æ–º –ø—Ä–æ–º–ø—Ç–µ
```json
{
    "status": "success",
    "response": "–û—Ç–≤–µ—Ç –º–æ–¥–µ–ª–∏...",
    "tokens_used": 150,
    "model": "qwen3-4b-colab",
    "system_prompt_used": true
}
```

## üîç –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### ‚úÖ –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å
- –û–¥–∏–Ω–∞–∫–æ–≤–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ –ª–æ–∫–∞–ª—å–Ω–æ –∏ –≤ Colab
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∏ —Å—Ç–∏–ª—è –æ–±—â–µ–Ω–∏—è
- –ï–¥–∏–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è –ò–ò

### ‚úÖ –ì–∏–±–∫–æ—Å—Ç—å
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–∫–ª—é—á–∏—Ç—å —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç (use_system_prompt=false)
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–∞ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —à–∞–±–ª–æ–Ω–æ–≤

### ‚úÖ –ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å
- –Ø–≤–Ω–æ–µ —É–∫–∞–∑–∞–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –ø—Ä–æ–º–ø—Ç–∞ –≤ –æ—Ç–≤–µ—Ç–µ
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–¥–∞—á–∏ –ø—Ä–æ–º–ø—Ç–∞
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ

## üêõ –û—Ç–ª–∞–¥–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥–∞—á–∏ –ø—Ä–æ–º–ø—Ç–∞
```python
# –í Colab –Ω–æ—É—Ç–±—É–∫–µ
print(f"–°–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç: {SYSTEM_PROMPT[:100]}...")
print(f"–î–ª–∏–Ω–∞ –ø—Ä–æ–º–ø—Ç–∞: {len(SYSTEM_PROMPT)} —Å–∏–º–≤–æ–ª–æ–≤")
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑ —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –ø—Ä–æ–º–ø—Ç–∞
```python
# –ó–∞–ø—Ä–æ—Å –±–µ–∑ —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –ø—Ä–æ–º–ø—Ç–∞
response = requests.post(f"{colab_url}/generate", json={
    "prompt": "–¢–µ—Å—Ç",
    "use_system_prompt": false
})
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –æ—Ç–≤–µ—Ç–µ API
```python
result = response.json()
if result.get('system_prompt_used'):
    print("‚úÖ –°–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω")
else:
    print("‚ö†Ô∏è –°–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω")
```

## üìã –§–∞–π–ª—ã –≤ —Å–∏—Å—Ç–µ–º–µ

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- `plugins/google_colab_plugin.py` - –ª–æ–≥–∏–∫–∞ –ø–µ—Ä–µ–¥–∞—á–∏ –ø—Ä–æ–º–ø—Ç–∞
- `plugins/colab_templates/qwen3_4b_template.ipynb` - —à–∞–±–ª–æ–Ω —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π
- `1.py` - –æ—Å–Ω–æ–≤–Ω–æ–π –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä —Å —Å–∏—Å—Ç–µ–º–Ω—ã–º –ø—Ä–æ–º–ø—Ç–æ–º

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- `plugins/plugin_config.ini` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–ª–∞–≥–∏–Ω–æ–≤
- `plugins/colab_templates/` - –ø–∞–ø–∫–∞ —Å —à–∞–±–ª–æ–Ω–∞–º–∏ –Ω–æ—É—Ç–±—É–∫–æ–≤

## üöÄ –†–∞—Å—à–∏—Ä–µ–Ω–∏—è

### –ö–∞—Å—Ç–æ–º–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π
```python
# –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã
model_specific_prompts = {
    'qwen3_4b': '–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –ø—Ä–æ–º–ø—Ç –¥–ª—è Qwen3...',
    'llama2': '–ü—Ä–æ–º–ø—Ç –¥–ª—è LLaMA...'
}
```

### –ú–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤—ã–µ –ø—Ä–æ–º–ø—Ç—ã
```python
# –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –ø—Ä–æ–º–ø—Ç–æ–≤
final_prompt = f"{SYSTEM_PROMPT}\\n\\n–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏: {user_instructions}\\n\\n–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: {prompt}"
```

---

*–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∞–∫—Ç—É–∞–ª—å–Ω–∞ –¥–ª—è –≤–µ—Ä—Å–∏–∏ –ø–ª–∞–≥–∏–Ω–∞ Google Colab 1.0*
